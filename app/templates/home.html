<!DOCTYPE html>
<html lang="en">
    {% extends "base.html" %}

    {% block title %}Home - Knovault{% endblock %}
    
    {% block content %}
    <div class="home-container">
        <!-- Welcome Section -->
        <section class="welcome-section">
            <h1>Welcome to Knovault</h1>
            <p>Your central hub for project lessons learned.</p>
        </section>
    
        <!-- Recent Lessons Section -->
        <section class="recent-lessons">
            <h2>Recent Lessons</h2>
            <div class="lessons-list">
                {% for lesson in lessons %}
                <div class="lesson-card">
                    <h3>{{ lesson.project_name }}</h3>
                    <p><strong>Issue Type:</strong> {{ lesson.issue_type }}</p>
                    <p><strong>Project Phase:</strong> {{ lesson.project_phase }}</p>
                    <a href="{{ url_for('main.view_lesson', lesson_id=lesson.id) }}" class="view-details">View Details</a>
                </div>
                {% endfor %}
            </div>
        </section>
    
        <!-- Visuals Section -->
        <section class="quick-analytics">
            <h2>Quick Analytics</h2>
            <div class="visuals-grid">
                <!-- Most Common Issues -->
                <div class="chart-container2">
                    <h3>Most Common Issues</h3>
                    {{ issue_chart|safe }}
                </div>
        
                <!-- Lessons Learned by Project Phase -->
                <div class="chart-container2">
                    <h3>Lessons Learned by Project Phase</h3>
                    {{ phase_chart|safe }}
                </div>
        
                <!-- Tag Usage Analysis -->
                <div class="chart-container2">
                    <h3>Tag Usage Analysis</h3>
                    {{ tag_chart|safe }}
                </div>
            </div>
        </section>
    </div>
    
    {% endblock %}
    
</html>
